$(document).ready(function(){function s(){this.answer=Math.ceil(100*Math.random()),this.numGuessesLeft=5,this.guesses=[],e.html("Guessed: "),n.html(""),i.html("<span id='num-guesses'>5</span> Guesses Left!"),i.css("background-color",""),this.updateNumGuessesDisplay()}var e=$("#guessed"),t=$("#guessbox"),i=$("#scorebox"),u=$("#num-guesses"),n=$("#relative-temp"),o=$("#higher-lower");s.prototype.retrieveGuess=function(){this.guess=t.val()},s.prototype.storeGuess=function(){this.guesses.push(this.guess)},s.prototype.guessIsHotter=function(){var s=this.guesses[this.guesses.length-2];return Math.abs(s-this.answer)>=Math.abs(this.guess-this.answer)},s.prototype.guessIsHot=function(){return Math.abs(this.guess-this.answer)<=20},s.prototype.displayGuess=function(){var s=$("<span>"+this.guess+"</span>");this.guessIsHot()?s.addClass("hot"):s.addClass("cold"),e.append(s)},s.prototype.displayRelativeTemp=function(){this.guesses.length>1&&(this.guessIsHotter()?n.html("Hotter!"):n.html("Colder!"))},s.prototype.displayHigherLower=function(){this.guess<this.answer?o.html("Guess Higher!"):this.guess>this.answer?o.html("Guess Lower!"):o.html("Just right!")},s.prototype.correctGuess=function(){return this.guess==this.answer},s.prototype.updateNumGuessesDisplay=function(){u.text(this.numGuessesLeft)},s.prototype.minusGuess=function(){return this.numGuessesLeft--,this.updateNumGuessesDisplay(),0==this.numGuessesLeft?this.lose():void 0},s.prototype.cheatCodeChecker=function(){return"inittowinit"==this.guess?(this.win(),!0):"youcantalwaysgetwhatyouwant"==this.guess?(this.lose(),!0):!1},s.prototype.validGuess=function(){return this.guess?Number(this.guess)?this.guess>100||this.guess<1?(alert("Guess within 1 and 100!"),!1):-1!=this.guesses.indexOf(this.guess)?(alert("You already guessed "+this.guess+"!"),!1):!0:(alert("Use your numbers, not your words"),!1):(alert("Fill in a number between 1 and 100!"),!1)},s.prototype.turn=function(){return this.gameOver||(this.retrieveGuess(),this.cheatCodeChecker()||!this.validGuess())?void 0:(this.storeGuess(),this.displayGuess(),this.displayRelativeTemp(),this.displayHigherLower(),this.correctGuess()?this.win():void this.minusGuess())},s.prototype.win=function(){i.html("You WIN! Congratulations!"),i.css("background-color","green"),this.gameOver=!0},s.prototype.lose=function(){i.html("YOU LOSE! The right answer was "+this.answer),i.css("background-color","red"),this.gameOver=!0},s.prototype.giveHint=function(){alert("PSST! The answer's "+this.answer)};var r=new s;$("#submit-guess").on("click",function(s){s.preventDefault(),r.turn()}),$(document).on("keydown",function(s){13==s.keyCode&&(s.preventDefault(),r.turn())}),$("#request-hint").on("click",function(s){s.preventDefault(),r.giveHint()}),$("#restart").on("click",function(e){e.preventDefault(),r=new s})});